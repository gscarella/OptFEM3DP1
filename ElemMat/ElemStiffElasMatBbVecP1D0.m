function [Kg]=ElemStiffElasMatBbVecP1D0(q,me,volumes,lambda,mu)
%----------------------------------------
% Automatic generation with sage
% (c) Cuvelier F. email:cuvelier@math.univ-paris13.fr
%
% Copyright (C) 2013  CJS (LAGA)
%   see README for details
order=1;
ndf=(order+1)*(order+2)/2;
dim=2*ndf;
ndf2=dim*dim;
G=ComputeGradientVec(q,me);
coef=6*sqrt(volumes);
for il=1:4,for i=1:3, G{il}(i,:)=G{il}(i,:)./coef;end, end
Kg=zeros(ndf2,size(me,2));
Kg(1,:)=(lambda + 2.*mu).*G{1}(1,:).^2 + mu.*G{1}(2,:).^2 + mu.*G{1}(3,:).^2;
Kg(2,:)=(lambda + 2.*mu).*G{1}(1,:).*G{2}(1,:) + mu.*G{1}(2,:).*G{2}(2,:) + mu.*G{1}(3,:).*G{2}(3,:);
Kg(3,:)=(lambda + 2.*mu).*G{1}(1,:).*G{3}(1,:) + mu.*G{1}(2,:).*G{3}(2,:) + mu.*G{1}(3,:).*G{3}(3,:);
Kg(4,:)=(lambda + 2.*mu).*G{1}(1,:).*G{4}(1,:) + mu.*G{1}(2,:).*G{4}(2,:) + mu.*G{1}(3,:).*G{4}(3,:);
Kg(5,:)=lambda.*G{1}(1,:).*G{1}(2,:) + mu.*G{1}(1,:).*G{1}(2,:);
Kg(6,:)=lambda.*G{1}(1,:).*G{2}(2,:) + mu.*G{1}(2,:).*G{2}(1,:);
Kg(7,:)=lambda.*G{1}(1,:).*G{3}(2,:) + mu.*G{1}(2,:).*G{3}(1,:);
Kg(8,:)=lambda.*G{1}(1,:).*G{4}(2,:) + mu.*G{1}(2,:).*G{4}(1,:);
Kg(9,:)=lambda.*G{1}(1,:).*G{1}(3,:) + mu.*G{1}(1,:).*G{1}(3,:);
Kg(10,:)=lambda.*G{1}(1,:).*G{2}(3,:) + mu.*G{1}(3,:).*G{2}(1,:);
Kg(11,:)=lambda.*G{1}(1,:).*G{3}(3,:) + mu.*G{1}(3,:).*G{3}(1,:);
Kg(12,:)=lambda.*G{1}(1,:).*G{4}(3,:) + mu.*G{1}(3,:).*G{4}(1,:);
Kg(14,:)=(lambda + 2.*mu).*G{2}(1,:).^2 + mu.*G{2}(2,:).^2 + mu.*G{2}(3,:).^2;
Kg(15,:)=(lambda + 2.*mu).*G{2}(1,:).*G{3}(1,:) + mu.*G{2}(2,:).*G{3}(2,:) + mu.*G{2}(3,:).*G{3}(3,:);
Kg(16,:)=(lambda + 2.*mu).*G{2}(1,:).*G{4}(1,:) + mu.*G{2}(2,:).*G{4}(2,:) + mu.*G{2}(3,:).*G{4}(3,:);
Kg(17,:)=lambda.*G{1}(2,:).*G{2}(1,:) + mu.*G{1}(1,:).*G{2}(2,:);
Kg(18,:)=lambda.*G{2}(1,:).*G{2}(2,:) + mu.*G{2}(1,:).*G{2}(2,:);
Kg(19,:)=lambda.*G{2}(1,:).*G{3}(2,:) + mu.*G{2}(2,:).*G{3}(1,:);
Kg(20,:)=lambda.*G{2}(1,:).*G{4}(2,:) + mu.*G{2}(2,:).*G{4}(1,:);
Kg(21,:)=lambda.*G{1}(3,:).*G{2}(1,:) + mu.*G{1}(1,:).*G{2}(3,:);
Kg(22,:)=lambda.*G{2}(1,:).*G{2}(3,:) + mu.*G{2}(1,:).*G{2}(3,:);
Kg(23,:)=lambda.*G{2}(1,:).*G{3}(3,:) + mu.*G{2}(3,:).*G{3}(1,:);
Kg(24,:)=lambda.*G{2}(1,:).*G{4}(3,:) + mu.*G{2}(3,:).*G{4}(1,:);
Kg(27,:)=(lambda + 2.*mu).*G{3}(1,:).^2 + mu.*G{3}(2,:).^2 + mu.*G{3}(3,:).^2;
Kg(28,:)=(lambda + 2.*mu).*G{3}(1,:).*G{4}(1,:) + mu.*G{3}(2,:).*G{4}(2,:) + mu.*G{3}(3,:).*G{4}(3,:);
Kg(29,:)=lambda.*G{1}(2,:).*G{3}(1,:) + mu.*G{1}(1,:).*G{3}(2,:);
Kg(30,:)=lambda.*G{2}(2,:).*G{3}(1,:) + mu.*G{2}(1,:).*G{3}(2,:);
Kg(31,:)=lambda.*G{3}(1,:).*G{3}(2,:) + mu.*G{3}(1,:).*G{3}(2,:);
Kg(32,:)=lambda.*G{3}(1,:).*G{4}(2,:) + mu.*G{3}(2,:).*G{4}(1,:);
Kg(33,:)=lambda.*G{1}(3,:).*G{3}(1,:) + mu.*G{1}(1,:).*G{3}(3,:);
Kg(34,:)=lambda.*G{2}(3,:).*G{3}(1,:) + mu.*G{2}(1,:).*G{3}(3,:);
Kg(35,:)=lambda.*G{3}(1,:).*G{3}(3,:) + mu.*G{3}(1,:).*G{3}(3,:);
Kg(36,:)=lambda.*G{3}(1,:).*G{4}(3,:) + mu.*G{3}(3,:).*G{4}(1,:);
Kg(40,:)=(lambda + 2.*mu).*G{4}(1,:).^2 + mu.*G{4}(2,:).^2 + mu.*G{4}(3,:).^2;
Kg(41,:)=lambda.*G{1}(2,:).*G{4}(1,:) + mu.*G{1}(1,:).*G{4}(2,:);
Kg(42,:)=lambda.*G{2}(2,:).*G{4}(1,:) + mu.*G{2}(1,:).*G{4}(2,:);
Kg(43,:)=lambda.*G{3}(2,:).*G{4}(1,:) + mu.*G{3}(1,:).*G{4}(2,:);
Kg(44,:)=lambda.*G{4}(1,:).*G{4}(2,:) + mu.*G{4}(1,:).*G{4}(2,:);
Kg(45,:)=lambda.*G{1}(3,:).*G{4}(1,:) + mu.*G{1}(1,:).*G{4}(3,:);
Kg(46,:)=lambda.*G{2}(3,:).*G{4}(1,:) + mu.*G{2}(1,:).*G{4}(3,:);
Kg(47,:)=lambda.*G{3}(3,:).*G{4}(1,:) + mu.*G{3}(1,:).*G{4}(3,:);
Kg(48,:)=lambda.*G{4}(1,:).*G{4}(3,:) + mu.*G{4}(1,:).*G{4}(3,:);
Kg(53,:)=(lambda + 2.*mu).*G{1}(2,:).^2 + mu.*G{1}(1,:).^2 + mu.*G{1}(3,:).^2;
Kg(54,:)=(lambda + 2.*mu).*G{1}(2,:).*G{2}(2,:) + mu.*G{1}(1,:).*G{2}(1,:) + mu.*G{1}(3,:).*G{2}(3,:);
Kg(55,:)=(lambda + 2.*mu).*G{1}(2,:).*G{3}(2,:) + mu.*G{1}(1,:).*G{3}(1,:) + mu.*G{1}(3,:).*G{3}(3,:);
Kg(56,:)=(lambda + 2.*mu).*G{1}(2,:).*G{4}(2,:) + mu.*G{1}(1,:).*G{4}(1,:) + mu.*G{1}(3,:).*G{4}(3,:);
Kg(57,:)=lambda.*G{1}(2,:).*G{1}(3,:) + mu.*G{1}(2,:).*G{1}(3,:);
Kg(58,:)=lambda.*G{1}(2,:).*G{2}(3,:) + mu.*G{1}(3,:).*G{2}(2,:);
Kg(59,:)=lambda.*G{1}(2,:).*G{3}(3,:) + mu.*G{1}(3,:).*G{3}(2,:);
Kg(60,:)=lambda.*G{1}(2,:).*G{4}(3,:) + mu.*G{1}(3,:).*G{4}(2,:);
Kg(66,:)=(lambda + 2.*mu).*G{2}(2,:).^2 + mu.*G{2}(1,:).^2 + mu.*G{2}(3,:).^2;
Kg(67,:)=(lambda + 2.*mu).*G{2}(2,:).*G{3}(2,:) + mu.*G{2}(1,:).*G{3}(1,:) + mu.*G{2}(3,:).*G{3}(3,:);
Kg(68,:)=(lambda + 2.*mu).*G{2}(2,:).*G{4}(2,:) + mu.*G{2}(1,:).*G{4}(1,:) + mu.*G{2}(3,:).*G{4}(3,:);
Kg(69,:)=lambda.*G{1}(3,:).*G{2}(2,:) + mu.*G{1}(2,:).*G{2}(3,:);
Kg(70,:)=lambda.*G{2}(2,:).*G{2}(3,:) + mu.*G{2}(2,:).*G{2}(3,:);
Kg(71,:)=lambda.*G{2}(2,:).*G{3}(3,:) + mu.*G{2}(3,:).*G{3}(2,:);
Kg(72,:)=lambda.*G{2}(2,:).*G{4}(3,:) + mu.*G{2}(3,:).*G{4}(2,:);
Kg(79,:)=(lambda + 2.*mu).*G{3}(2,:).^2 + mu.*G{3}(1,:).^2 + mu.*G{3}(3,:).^2;
Kg(80,:)=(lambda + 2.*mu).*G{3}(2,:).*G{4}(2,:) + mu.*G{3}(1,:).*G{4}(1,:) + mu.*G{3}(3,:).*G{4}(3,:);
Kg(81,:)=lambda.*G{1}(3,:).*G{3}(2,:) + mu.*G{1}(2,:).*G{3}(3,:);
Kg(82,:)=lambda.*G{2}(3,:).*G{3}(2,:) + mu.*G{2}(2,:).*G{3}(3,:);
Kg(83,:)=lambda.*G{3}(2,:).*G{3}(3,:) + mu.*G{3}(2,:).*G{3}(3,:);
Kg(84,:)=lambda.*G{3}(2,:).*G{4}(3,:) + mu.*G{3}(3,:).*G{4}(2,:);
Kg(92,:)=(lambda + 2.*mu).*G{4}(2,:).^2 + mu.*G{4}(1,:).^2 + mu.*G{4}(3,:).^2;
Kg(93,:)=lambda.*G{1}(3,:).*G{4}(2,:) + mu.*G{1}(2,:).*G{4}(3,:);
Kg(94,:)=lambda.*G{2}(3,:).*G{4}(2,:) + mu.*G{2}(2,:).*G{4}(3,:);
Kg(95,:)=lambda.*G{3}(3,:).*G{4}(2,:) + mu.*G{3}(2,:).*G{4}(3,:);
Kg(96,:)=lambda.*G{4}(2,:).*G{4}(3,:) + mu.*G{4}(2,:).*G{4}(3,:);
Kg(105,:)=(lambda + 2.*mu).*G{1}(3,:).^2 + mu.*G{1}(1,:).^2 + mu.*G{1}(2,:).^2;
Kg(106,:)=(lambda + 2.*mu).*G{1}(3,:).*G{2}(3,:) + mu.*G{1}(1,:).*G{2}(1,:) + mu.*G{1}(2,:).*G{2}(2,:);
Kg(107,:)=(lambda + 2.*mu).*G{1}(3,:).*G{3}(3,:) + mu.*G{1}(1,:).*G{3}(1,:) + mu.*G{1}(2,:).*G{3}(2,:);
Kg(108,:)=(lambda + 2.*mu).*G{1}(3,:).*G{4}(3,:) + mu.*G{1}(1,:).*G{4}(1,:) + mu.*G{1}(2,:).*G{4}(2,:);
Kg(118,:)=(lambda + 2.*mu).*G{2}(3,:).^2 + mu.*G{2}(1,:).^2 + mu.*G{2}(2,:).^2;
Kg(119,:)=(lambda + 2.*mu).*G{2}(3,:).*G{3}(3,:) + mu.*G{2}(1,:).*G{3}(1,:) + mu.*G{2}(2,:).*G{3}(2,:);
Kg(120,:)=(lambda + 2.*mu).*G{2}(3,:).*G{4}(3,:) + mu.*G{2}(1,:).*G{4}(1,:) + mu.*G{2}(2,:).*G{4}(2,:);
Kg(131,:)=(lambda + 2.*mu).*G{3}(3,:).^2 + mu.*G{3}(1,:).^2 + mu.*G{3}(2,:).^2;
Kg(132,:)=(lambda + 2.*mu).*G{3}(3,:).*G{4}(3,:) + mu.*G{3}(1,:).*G{4}(1,:) + mu.*G{3}(2,:).*G{4}(2,:);
Kg(144,:)=(lambda + 2.*mu).*G{4}(3,:).^2 + mu.*G{4}(1,:).^2 + mu.*G{4}(2,:).^2;
Kg([13, 25, 26, 37, 38, 39, 49, 50, 51, 52, 61, 62, 63, 64, 65, 73, 74, 75, 76, 77, 78, 85, 86, 87, 88, 89, 90, 91, 97, 98, 99, 100, 101, 102, 103, 104, 109, 110, 111, 112, 113, 114, 115, 116, 117, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143],:)=Kg([2, 3, 15, 4, 16, 28, 5, 17, 29, 41, 6, 18, 30, 42, 54, 7, 19, 31, 43, 55, 67, 8, 20, 32, 44, 56, 68, 80, 9, 21, 33, 45, 57, 69, 81, 93, 10, 22, 34, 46, 58, 70, 82, 94, 106, 11, 23, 35, 47, 59, 71, 83, 95, 107, 119, 12, 24, 36, 48, 60, 72, 84, 96, 108, 120, 132],:);
